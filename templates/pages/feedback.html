{% extends 'base.html' %}

{% block title %}Feedback - MMU Portal{% endblock %}

{% block content %}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center py-4">
    <div class="d-block mb-4 mb-md-0">
        <h2 class="h4">Feedback</h2>
        <p class="mb-0">We value your opinion to improve our platform</p>
    </div>
</div>

<div class="row">
    <div class="col-12 col-xl-8">
        <div class="card card-body border-0 shadow mb-4">
            <h2 class="h5 mb-4">Share your feedback</h2>
            
            {% if messages %}
                {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
                {% endfor %}
            {% endif %}
            
            <form method="post">
                {% csrf_token %}
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="name" class="form-label">Your Name</label>
                        <input type="text" class="form-control" id="name" name="name" 
                               value="{% if user.is_authenticated %}{{ user.username }}{% endif %}" 
                               {% if user.is_authenticated %}readonly{% else %}required{% endif %}>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="email" class="form-label">Email Address</label>
                        <input type="email" class="form-control" id="email" name="email" 
                               value="{% if user.is_authenticated %}{{ user.email }}{% endif %}" 
                               {% if user.is_authenticated %}readonly{% else %}required{% endif %}>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 mb-3">
                        <label for="feedback_type" class="form-label">Feedback Type</label>
                        <select class="form-select" id="feedback_type" name="feedback_type" required>
                            <option value="" selected disabled>Select feedback type</option>
                            <option value="general">General Feedback</option>
                            <option value="bug">Bug Report</option>
                            <option value="feature">Feature Request</option>
                            <option value="complaint">Complaint</option>
                            <option value="compliment">Compliment</option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 mb-3">
                        <label for="message" class="form-label">Your Feedback</label>
                        <textarea class="form-control" id="message" name="message" rows="5" 
                                  placeholder="Please share your thoughts, suggestions, or issues..." required></textarea>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 mb-3">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="contact_permission" name="contact_permission">
                            <label class="form-check-label" for="contact_permission">
                                I give permission to be contacted for follow-up questions
                            </label>
                        </div>
                    </div>
                </div>
                <div class="mt-3">
                    <button type="submit" class="btn btn-primary">Submit Feedback</button>
                </div>
            </form>
        </div>
    </div>
    <div class="col-12 col-xl-4">
        <div class="card card-body border-0 shadow">
            <h2 class="h5 mb-4">Why Your Feedback Matters</h2>
            <p>Your feedback helps us:</p>
            <ul class="list-group list-group-flush">
                <li class="list-group-item px-0 py-2">
                    <i class="fas fa-check text-success me-2"></i> Improve the user experience
                </li>
                <li class="list-group-item px-0 py-2">
                    <i class="fas fa-check text-success me-2"></i> Identify and fix bugs
                </li>
                <li class="list-group-item px-0 py-2">
                    <i class="fas fa-check text-success me-2"></i> Prioritize new features
                </li>
                <li class="list-group-item px-0 py-2">
                    <i class="fas fa-check text-success me-2"></i> Understand how you use the platform
                </li>
            </ul>
            
            <div class="alert alert-info mt-4">
                <i class="fas fa-info-circle me-2"></i> We review all feedback and respond to most within 2 business days.
            </div>
        </div>
        
        <div class="card card-body border-0 shadow mt-4">
            <h2 class="h5 mb-4">Recent Updates Based on Feedback</h2>
            <div class="d-flex">
                <div class="icon icon-shape icon-sm icon-shape-success rounded me-3">
                    <i class="fas fa-check"></i>
                </div>
                <div>
                    <h6 class="mb-0">Improved file upload</h6>
                    <p class="text-gray-700 small">Added progress indicator and larger file size limit</p>
                </div>
            </div>
            <div class="d-flex mt-3">
                <div class="icon icon-shape icon-sm icon-shape-success rounded me-3">
                    <i class="fas fa-check"></i>
                </div>
                <div>
                    <h6 class="mb-0">Enhanced search</h6>
                    <p class="text-gray-700 small">Added filters by subject and semester</p>
                </div>
            </div>
            <div class="d-flex mt-3">
                <div class="icon icon-shape icon-sm icon-shape-success rounded me-3">
                    <i class="fas fa-check"></i>
                </div>
                <div>
                    <h6 class="mb-0">Mobile optimization</h6>
                    <p class="text-gray-700 small">Improved experience on mobile devices</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}